CREATE TABLE Event (id varchar(30) NOT NULL, kelas varchar(30) NOT NULL, tahun int(4) NOT NULL, name varchar(255) NOT NULL, start_date date NOT NULL, end_date date NOT NULL, batch int(10) NOT NULL, `group_event` varchar(30) NOT NULL, event varchar(30) NOT NULL, method varchar(2) NOT NULL, internal bit(1) NOT NULL, `open` bit(1) NOT NULL, quota int(10) NOT NULL, total_time int(10) NOT NULL, provider varchar(30) NOT NULL, place varchar(255) NOT NULL, location varchar(30) NOT NULL, pic varchar(10) NOT NULL, cost decimal(15, 2) NOT NULL, result int NOT NULL, PRIMARY KEY (id, kelas));
CREATE TABLE Event_Assessment (id_event varchar(30) NOT NULL, id_kelas varchar(30) NOT NULL, id_participant int(10) NOT NULL, id_assessment varchar(30) NOT NULL, result decimal(10, 2) NOT NULL, PRIMARY KEY (id_event, id_kelas, id_participant, id_assessment));
CREATE TABLE Event_Kelas (id_event varchar(30) NOT NULL, id_kelas varchar(30) NOT NULL, id_lesson varchar(30) NOT NULL, instructor varchar(30) NOT NULL, PRIMARY KEY (id_event, id_kelas, id_lesson));
CREATE TABLE Event_Kelas_Evaluate (id_event varchar(30) NOT NULL, id_kelas varchar(30) NOT NULL, id_participant int(10) NOT NULL, id_lesson varchar(30) NOT NULL, id_survey varchar(30) NOT NULL, result decimal(10, 2) NOT NULL, `desc` varchar(100) NOT NULL, PRIMARY KEY (id_event, id_kelas, id_participant, id_lesson, id_survey));
CREATE TABLE Event_Evaluate (id_event varchar(30) NOT NULL, id_kelas varchar(30) NOT NULL, id_participant int(10) NOT NULL, id_survey varchar(30) NOT NULL, result decimal(10, 2) NOT NULL, `desc` varchar(100) NOT NULL, PRIMARY KEY (id_event, id_kelas, id_participant, id_survey));
CREATE TABLE Event_Participant (id_event varchar(30) NOT NULL, id_kelas varchar(30) NOT NULL, id_participant int(10) NOT NULL, result_assessment decimal(10, 2) NOT NULL, testimonials varchar(500), PRIMARY KEY (id_event, id_kelas, id_participant));
CREATE TABLE Parameter_Assessment (id varchar(30) NOT NULL, parameter varchar(30) NOT NULL, value int(10) NOT NULL, active bit(1) NOT NULL, PRIMARY KEY (id));
CREATE TABLE Parameter_Evaluate (id varchar(30) NOT NULL, parameter varchar(30) NOT NULL, value varchar(255) NOT NULL, active bit(1) NOT NULL, PRIMARY KEY (id));
CREATE TABLE Permission (id varchar(30) NOT NULL, name varchar(255) NOT NULL, label varchar(255) NOT NULL, PRIMARY KEY (id));
CREATE TABLE Plan_Event (id varchar(30) NOT NULL, kelas varchar(30) NOT NULL, tahun int(4) NOT NULL, name varchar(255) NOT NULL, start_date date NOT NULL, end_date date NOT NULL, method varchar(2) NOT NULL, `open` bit(1) NOT NULL, quota int(10) NOT NULL, total_time int(10) NOT NULL, location varchar(30) NOT NULL, pic varchar(10) NOT NULL, cost decimal(15, 2) NOT NULL, PRIMARY KEY (id, kelas));
CREATE TABLE Plan_Participant (id_event varchar(30) NOT NULL, id_kelas varchar(30) NOT NULL, id_participant int(10) NOT NULL, PRIMARY KEY (id_event, id_kelas, id_participant));
CREATE TABLE Role (id varchar(30) NOT NULL, name varchar(255) NOT NULL, label varchar(255) NOT NULL, PRIMARY KEY (id));
CREATE TABLE Role_Permission (id_role varchar(30) NOT NULL, id_permission varchar(30) NOT NULL, PRIMARY KEY (id_role, id_permission));
CREATE TABLE `User` (id varchar(30) NOT NULL, name varchar(255) NOT NULL, password varchar(255) NOT NULL, active bit(1) NOT NULL, PRIMARY KEY (id));
CREATE TABLE User_Role (id_user varchar(30) NOT NULL, id_role varchar(30) NOT NULL, PRIMARY KEY (id_user, id_role));
ALTER TABLE User_Role ADD INDEX FKUser_Role975177 (id_user), ADD CONSTRAINT FKUser_Role975177 FOREIGN KEY (id_user) REFERENCES `User` (id);
ALTER TABLE Role_Permission ADD INDEX FKRole_Permi874371 (id_permission), ADD CONSTRAINT FKRole_Permi874371 FOREIGN KEY (id_permission) REFERENCES Permission (id);
ALTER TABLE Role_Permission ADD INDEX FKRole_Permi942398 (id_role), ADD CONSTRAINT FKRole_Permi942398 FOREIGN KEY (id_role) REFERENCES Role (id);
ALTER TABLE User_Role ADD INDEX FKUser_Role161204 (id_role), ADD CONSTRAINT FKUser_Role161204 FOREIGN KEY (id_role) REFERENCES Role (id);
ALTER TABLE Event_Assessment ADD INDEX FKEvent_Asse149474 (id_event, id_kelas, id_participant), ADD CONSTRAINT FKEvent_Asse149474 FOREIGN KEY (id_event, id_kelas, id_participant) REFERENCES Event_Participant (id_event, id_kelas, id_participant);
ALTER TABLE Event_Assessment ADD INDEX FKEvent_Asse558072 (id_assessment), ADD CONSTRAINT FKEvent_Asse558072 FOREIGN KEY (id_assessment) REFERENCES Parameter_Assessment (id);
ALTER TABLE Event_kelas ADD INDEX FKEvent_Clas476203 (id_kelas, id_event), ADD CONSTRAINT FKEvent_Clas476203 FOREIGN KEY (id_kelas, id_event) REFERENCES Event (id, kelas);
ALTER TABLE Event_Evaluate ADD INDEX FKEvent_Eval135003 (id_event, id_kelas, id_participant), ADD CONSTRAINT FKEvent_Eval135003 FOREIGN KEY (id_event, id_kelas, id_participant) REFERENCES Event_Participant (id_event, id_kelas, id_participant);
ALTER TABLE Event_Evaluate ADD INDEX FKEvent_Eval695601 (id_survey), ADD CONSTRAINT FKEvent_Eval695601 FOREIGN KEY (id_survey) REFERENCES Parameter_Evaluate (id);
ALTER TABLE Event_kelas_Evaluate ADD INDEX FKEvent_Clas723609 (id_event, id_kelas, id_lesson), ADD CONSTRAINT FKEvent_Clas723609 FOREIGN KEY (id_event, id_kelas, id_lesson) REFERENCES Event_kelas (id_event, id_kelas, id_lesson);
ALTER TABLE Event_kelas_Evaluate ADD INDEX FKEvent_Clas931731 (id_survey), ADD CONSTRAINT FKEvent_Clas931731 FOREIGN KEY (id_survey) REFERENCES Parameter_Evaluate (id);
ALTER TABLE Event_kelas_Evaluate ADD INDEX FKEvent_Clas72718 (id_event, id_kelas, id_participant), ADD CONSTRAINT FKEvent_Clas72718 FOREIGN KEY (id_event, id_kelas, id_participant) REFERENCES Event_Participant (id_event, id_kelas, id_participant);
ALTER TABLE Plan_Participant ADD INDEX FKPlan_Parti310294 (id_event, id_kelas), ADD CONSTRAINT FKPlan_Parti310294 FOREIGN KEY (id_event, id_kelas) REFERENCES Plan_Event (id, kelas);
ALTER TABLE Event_Participant ADD INDEX FKEvent_Part779893 (id_event, id_kelas), ADD CONSTRAINT FKEvent_Part779893 FOREIGN KEY (id_event, id_kelas) REFERENCES Event (id, kelas);